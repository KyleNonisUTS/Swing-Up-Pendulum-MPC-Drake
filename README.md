# Swing Up Pendulum MPC Drake

## Brief
<p>This repository was completed as part of the Univeristy of Technology Sydney's (UTS) Capstone Project Class. The project using MIT's Drake Mathematical Program and solver to compute a trajectory that minimizes the applied torque to a simple pendulum, then track this trajectory using MPC.</p>
<p>The reference trajectory is generated by running trajgen.py and will create csv files for torque, angular position and angular velocity.</p>
<p>After, follow_trajgen.py can be run. This script will apply the torques to the motor as per the relevant csv through the sending of commands to the Morteus r4.11 controller, which will actuate the motor. It is important to note that this control scheme is open-loop, and hence will not consider feedback from the system.</p>
<p>The mpc.py script can also be run after the reference trajectory has been generated. This script uses the MPC control scheme, computing the torques needed for a fixed horizon. The first torque is then sent to the controller, followed by the script reading the motor's current angular position and velocity. This feedback is then used as the initial state for the next fixed horizon.</p>

## Hardware
- 1x Mjbots Morteus r4.11 Dev Kit
- 1x CAN-FD USB transceiver
- 1x Emergency stop button
- Custom stand, pendulum and counterweights
- Dell Inspiron 14

## Required Software
This repository was run on a system with the following,
- Ubuntu 22.04
- Python 3.7 or greater
- Moteus software package (29/09/2024)
- Pydrake 0.2.1

## Results
TO DO: Some pictures of the set up, graphs etc.
